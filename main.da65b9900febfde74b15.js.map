{"version":3,"sources":["webpack:///./templates/imageCard.hbs","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","url","key","page","input","document","querySelector","ul","modalDiv","modalDivButton","modalImg","nextPicture","submitButton","query","addEventListener","debounce","event","target","value","innerHTML","style","visibility","sendSubmit","addNewPictures","pnotifySet","text","delay","addClass","width","remove","stack","context","axios","get","then","response","hits","length","disabled","PNotify","error","markup","reduce","acc","el","insertAdjacentHTML","resp","mark","closeModalWindow","setAttribute","className","src"],"mappings":"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","file":"main.da65b9900febfde74b15.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"photo-card\\\">\\r\\n    <img class=\\\"gallery__image\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":37},\"end\":{\"line\":2,\"column\":53}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":60},\"end\":{\"line\":2,\"column\":68}}}) : helper)))\n    + \"\\\" bigsrc=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":78},\"end\":{\"line\":2,\"column\":95}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n        </p>\\r\\n        <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":14},\"end\":{\"line\":8,\"column\":23}}}) : helper)))\n    + \"</span>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i>\\r\\n        </p>\\r\\n        <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":14},\"end\":{\"line\":12,\"column\":23}}}) : helper)))\n    + \"</span>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comment</i>\\r\\n        </p>\\r\\n        <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":14},\"end\":{\"line\":16,\"column\":26}}}) : helper)))\n    + \"</span>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n        </p>\\r\\n        <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":14},\"end\":{\"line\":20,\"column\":27}}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});","import './styles.css';\nimport axios from 'axios';\nimport PNotify from 'pnotify/dist/es/PNotify.js';\nimport template from './templates/imageCard.hbs';\nimport debounce from 'lodash.debounce';\n\nconst url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal`;\nconst key = `&key=15900106-2c235e732bb321ca7ec900d93`;\nlet page = 1;\nconst perPage = `&per_page=12`;\n\nconst input = document.querySelector( `input` );\nconst ul = document.querySelector( `.gallery` );\nconst modalDiv = document.querySelector( `.lightbox` );\nconst modalDivButton = document.querySelector( `button[data-action=\"close-lightbox\"]` );\nconst modalImg = document.querySelector( `.modal-img` );\nconst nextPicture = document.querySelector( `.add-more` );\nconst submitButton = document.querySelector( `.sub` );\nlet query = ``;\n\ninput.addEventListener( `input`, debounce( getImages, 1000 ) );\n\nconst pnotifySet = {\n    text: \"We did not find any pictures for your request\",\n    delay: 3000,\n    addClass: `warning`,\n    width: '250px',\n    remove: true,\n    stack: {\n        context: modalDiv\n    },\n}\n\nfunction getImages ( event ) {\n    query = `&q=${event.target.value}`;\n    if( event.target.value === `` ) {\n        ul.innerHTML = ``;\n        nextPicture.style.visibility = `hidden`;\n    }\n    submitButton.addEventListener( `click`, sendSubmit );\n    nextPicture.addEventListener( `click`, addNewPictures );\n}\n\nfunction sendSubmit () {\n    ul.innerHTML = ``;\n    nextPicture.style.visibility = `hidden`;\n    axios.get( `${url}${query}&page=${page}${perPage}${key}` )\n        .then( response => {\n            const data = response.data.hits;\n            if( data.length >= 1 ) {\n                nextPicture.style.visibility = `visible`;\n            }\n            if( data.length < 11 ) {\n                nextPicture.disabled = true;\n            }\n            if( data.length === 0 ) {\n                PNotify.error( pnotifySet );\n            }\n            const markup = data.reduce( ( acc, el ) => acc + `<li class=\"image-card\">${template( el )}</li>`, `` );\n            ul.insertAdjacentHTML( `beforeend`, markup );\n        } )\n}\n\nfunction addNewPictures () {\n    page += 1;\n    axios.get( `${url}${query}&page=${page}${perPage}${key}` )\n        .then( ( resp ) => {\n            const data = resp.data.hits;\n            const mark = data.reduce( ( acc, el ) => acc + `<li class=\"image-card\">${template( el )}</li>`, `` );\n            ul.insertAdjacentHTML( `beforeend`, mark );\n        } );\n}\n\nul.addEventListener( `click`, event => {\n    if( event.target.className === `gallery__image` ) {\n        modalDiv.setAttribute( `class`, `lightbox__overlay` );\n        modalDivButton.setAttribute( `class`, `lightbox__button` );\n        modalImg.setAttribute( `src`, `${event.target.src}` );\n    }\n} )\n\nmodalDivButton.addEventListener( `click`, closeModalWindow );\n\ndocument.addEventListener( `keyup`, event => {\n    if( event.key === `Escape` ) {\n        closeModalWindow();\n    }\n} );\n\nmodalDiv.addEventListener( `click`, ( event ) => {\n    if( event.target != modalImg ) {\n        closeModalWindow();\n    }\n} );\n\nfunction closeModalWindow () {\n    modalDiv.setAttribute( `class`, `` );\n    modalDivButton.setAttribute( `class`, `invisible` );\n    modalImg.setAttribute( `src`, `` );\n};"],"sourceRoot":""}